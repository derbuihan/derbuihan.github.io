<!DOCTYPE html>
<html lang="ja">

<head>
    
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="HandheldFriendly" content="True" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="generator" content="Hugo 0.101.0" />


<link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/dsrkafuu/dsr-cdn-main@1/images/favicons/dsrca.ico" />



<title>Coqで外延性の公理 - derbuihan blog</title>


<meta name="author" content="derbuihan" />


<meta name="description" content="derbuihan blog" />


<meta name="keywords" content="Coq, 数学" />


<meta property="og:title" content="Coqで外延性の公理" />
<meta name="twitter:title" content="Coqで外延性の公理" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://derbuihan.github.io/posts/coq_axiom_of_extensionality/" /><meta property="og:description" content="外延性の公理から集合の等号に対して同値関係を示します。(Coqで) 外延性の公理とは A, Bを任意の集合とするとき、もし任意の集合Xについて「XがAの要素であるならば、そのときに限りXはBの要素である」が成" />
<meta name="twitter:description" content="外延性の公理から集合の等号に対して同値関係を示します。(Coqで) 外延性の公理とは A, Bを任意の集合とするとき、もし任意の集合Xについて「XがAの要素であるならば、そのときに限りXはBの要素である」が成" /><meta property="og:image" content="https://derbuihan.github.io/img/og.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://derbuihan.github.io/img/og.png" /><meta property="article:published_time" content="2018-12-31T23:08:04+09:00" /><meta property="article:modified_time" content="2018-12-31T23:08:04+09:00" />


<style>
    @media (prefers-color-scheme: dark) {
        body[data-theme='auto'] img {
            filter: brightness(60%);
        }
    }

    body[data-theme='dark'] img {
        filter: brightness(60%);
    }
</style>




<link rel="stylesheet" href="https://derbuihan.github.io/assets/css/fuji.min.css" />





<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-106862529-8');
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-106862529-8"></script>





</head>

<body
  data-theme="light"
  data-theme-auto='false'
  >
    <script data-cfasync="false">
  
  var fujiThemeData = localStorage.getItem('fuji_data-theme');
  
  if (!fujiThemeData) {
    localStorage.setItem('fuji_data-theme', 'auto');
  } else {
    
    if (fujiThemeData !== 'auto') {
      document.body.setAttribute('data-theme', fujiThemeData === 'dark' ? 'dark' : 'light');
    }
  }
</script>

    <header>
    <div class="container-lg clearfix">
        <div class="col-12 header">
            <a class="title-main" href="https://derbuihan.github.io/">derbuihan blog</a>
            
            <span class="title-sub">derbuihan blog</span>
            
        </div>
    </div>
</header>

    <main>
        <div class="container-lg clearfix">
            
            <div class="col-12 col-md-9 float-left content">
                
<article>
    
    <h2 class="post-item post-title">
        <a href="https://derbuihan.github.io/posts/coq_axiom_of_extensionality/">Coqで外延性の公理</a>
    </h2>
    <div class="post-item post-meta">
        <span><i class="iconfont icon-today-sharp"></i>&nbsp;2018-12-31</span>

<span><i class="iconfont icon-file-tray-sharp"></i>&nbsp;942 字</span>

<span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href="/tags/coq">Coq</a>&nbsp;<a href="/tags/%E6%95%B0%E5%AD%A6">数学</a>&nbsp;</span>

    </div>
    
    <div class="post-content markdown-body">
        <p><a href="https://ja.wikipedia.org/wiki/%E5%A4%96%E5%BB%B6%E6%80%A7%E3%81%AE%E5%85%AC%E7%90%86" target="_blank">外延性の公理</a>から集合の等号に対して<a href="https://ja.wikipedia.org/wiki/%E5%90%8C%E5%80%A4%E9%96%A2%E4%BF%82" target="_blank">同値関係</a>を示します。(Coqで)</p>
<h3 id="外延性の公理とは">外延性の公理とは</h3>
<blockquote>
<p>A, Bを任意の集合とするとき、もし任意の集合Xについて「XがAの要素であるならば、そのときに限りXはBの要素である」が成り立つならば、AとBは等しい。</p>
</blockquote>
<p><a href="https://ja.wikipedia.org/wiki/%E5%A4%96%E5%BB%B6%E6%80%A7%E3%81%AE%E5%85%AC%E7%90%86" target="_blank">外延性の公理</a>から引用。</p>
<h3 id="とを定義する">∈と=を定義する</h3>
<pre><code>Section Axiom_Of_Extensionality.

  Variable Var : Type.
  Variable In : Var -&gt; Var -&gt; Prop.
  Variable Eq : Var -&gt; Var -&gt; Prop.

  (* ここにコードを書く *)

End Axiom_Of_Extensionality.
</code></pre>
<p>∈をIn、=をEqとした。</p>
<h3 id="同値関係とは">同値関係とは</h3>
<blockquote>
<ol>
<li>反射律: a = a</li>
<li>対称律: a = b ⇒ b = a</li>
<li>推移律: a = b ∧ b = c ⇒ a = c</li>
</ol>
</blockquote>
<p><a href="https://ja.wikipedia.org/wiki/%E5%90%8C%E5%80%A4%E9%96%A2%E4%BF%82" target="_blank">同値関係</a>を参考。</p>
<h3 id="証明する">証明する</h3>
<p>まず、外延公理を入れる。</p>
<pre><code>Axiom Extensionality: forall x y, Eq x y &lt;-&gt; forall z : Var, (In z x &lt;-&gt; In z y).
</code></pre>
<h4 id="反射律">反射律</h4>
<pre><code>Lemma Equal_Reflexive : forall x : Var, Eq x x.
Proof.
  intros.
  specialize (Extensionality x x).
  intros.
  destruct H.
  apply H0.
  intros.
  split.
  intros.
  trivial.
  intros.
  trivial.
Qed.
</code></pre>
<ul>
<li>specialize.からintros.のパターンで公理を仮定における。</li>
<li>specialize.からintros.のパターンってTacticないのかな。</li>
</ul>
<h4 id="対称律">対称律</h4>
<pre><code>Lemma Equal_Symmetric : forall x y : Var, Eq x y -&gt; Eq y x.
Proof.
  intros.
  specialize (Extensionality y x).
  specialize (Extensionality x y).
  intros.
  destruct H0.
  destruct H1.
  apply H3.
  intros.
  specialize (H0 H).
  specialize (H0 z).
  destruct H0.
  split.
  trivial.
  trivial.
Qed.
</code></pre>
<ul>
<li>&lt;-&gt;が対称律を満たすことを示すのと本質的にはあんまり変わらない。</li>
<li>先に&lt;-&gt;の対称律を示したら置き換えて楽に示せたら良いのに。</li>
</ul>
<h4 id="推移律">推移律</h4>
<pre><code>Lemma Equal_Transitive : forall x y z : Var, Eq x y /\ Eq y z -&gt; Eq x z.
Proof.
  intros.
  specialize (Extensionality x y).
  specialize (Extensionality y x).
  specialize (Extensionality y z).
  specialize (Extensionality z y).
  specialize (Extensionality z x).
  specialize (Extensionality x z).
  intros.
  destruct H0.
  destruct H1.
  destruct H2.
  destruct H3.
  destruct H4.
  destruct H5.
  destruct H.
  apply H6.
  intros.
  split.
  intros.
  specialize (H3 H12).
  specialize (H3 z0).
  destruct H3.
  apply H3.
  specialize (H5 H).
  specialize (H5 z0).
  destruct H5.
  apply H5.
  trivial.
  intros.
  specialize (H5 H).
  specialize (H5 z0).
  destruct H5.
  apply H14.
  specialize (H3 H12).
  specialize (H3 z0).
  destruct H3.
  apply H15.
  trivial.
Qed.
</code></pre>
<ul>
<li>同じ公理を6回specialize.しないといけないもんなのかな。</li>
<li>長すぎてもう見返したくない。</li>
</ul>
<h3 id="ssreflect">SSReflect</h3>
<p><a href="https://ja.wikipedia.org/wiki/%E5%A4%96%E5%BB%B6%E6%80%A7%E3%81%AE%E5%85%AC%E7%90%86" target="_blank">外延性の公理</a>から集合の等号に対して<a href="https://ja.wikipedia.org/wiki/%E5%90%8C%E5%80%A4%E9%96%A2%E4%BF%82" target="_blank">同値関係</a>を示します。(SSReflectで)</p>
<pre><code>From mathcomp
     Require Import ssreflect.

Section Axiom_Of_Extensionality.

  Variable Var : Type.
  Variable In : Var -&gt; Var -&gt; Prop.
  Variable Eq : Var -&gt; Var -&gt; Prop.

  Notation &quot;a ∈ A&quot; := (In A a) (at level 55,no associativity).
  Notation &quot;A ≡ B&quot; := (Eq A B) (at level 57, no associativity).

  Axiom Extensionality: forall x y : Var, x ≡ y &lt;-&gt; forall z : Var, (z ∈ x &lt;-&gt; z ∈ y).

  Lemma Equal_Reflexive : forall x : Var, x ≡ x.
  Proof.
    move =&gt; x.
    elim : (Extensionality x x) =&gt; H1 H2.
    by apply : H2.
  Qed.

  Lemma Equal_Symmetric : forall x y : Var, x ≡ y -&gt; y ≡ x.
  Proof.
    move =&gt; x y.
    elim : (Extensionality x y) =&gt; H1 H2.
    elim : (Extensionality y x) =&gt; H3 H4 XeqY.
    apply : H4 =&gt; z.
    apply iff_sym.
    by apply : (H1 XeqY).
  Qed.

  Lemma Equal_Transitive : forall x y z : Var, x ≡ y /\ y ≡ z -&gt; x ≡ z.
  Proof.
    move =&gt; x y z.
    elim : (Extensionality x y) =&gt; H1 H2.
    elim : (Extensionality y z) =&gt; H3 H4.
    elim : (Extensionality x z) =&gt; H5 H6.    
    case =&gt; XeqY YeqZ.
    apply : H6 =&gt; z0.
    move : (H1 XeqY z0) (H3 YeqZ z0).
    by apply iff_trans.
  Qed.

End Axiom_Of_Extensionality.
</code></pre>
<ul>
<li>すごく短くなった</li>
</ul>
<h3 id="感想">感想</h3>
<ul>
<li>SSReflectを使おう!</li>
</ul>

    </div>
</article>




            </div>
            <aside class="col-12 col-md-3 float-left sidebar">
    
    <div class="sidebar-item sidebar-pages">
        <h3>ページ</h3>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/about/">About</a>
            </li>
            
            <li>
                <a href="/works/">Works</a>
            </li>
            
            <li>
                <a href="/search/">Search</a>
            </li>
            
            <li>
                <a href="/index.xml">RSS</a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-links">
        <h3>リンク</h3>
        <ul>
            
            <li>
                <a href="https://github.com/derbuihan" target="_blank"><span>GitHub</span></a>
            </li>
            
            <li>
                <a href="https://twitter.com/derbuihan" target="_blank"><span>Twitter</span></a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-tags">
        <h3>タグ</h3>
        <div>
            
            <span>
                <a href="/tags/atom/">Atom</a>
            </span>
            
            <span>
                <a href="/tags/bash/">Bash</a>
            </span>
            
            <span>
                <a href="/tags/coq/">Coq</a>
            </span>
            
            <span>
                <a href="/tags/datasets/">Datasets</a>
            </span>
            
            <span>
                <a href="/tags/digestauth/">DigestAuth</a>
            </span>
            
            <span>
                <a href="/tags/docker/">docker</a>
            </span>
            
            <span>
                <a href="/tags/elm/">Elm</a>
            </span>
            
            <span>
                <a href="/tags/emacs/">Emacs</a>
            </span>
            
            <span>
                <a href="/tags/gitlab/">GitLab</a>
            </span>
            
            <span>
                <a href="/tags/gpu/">gpu</a>
            </span>
            
            <span>
                <a href="/tags/haskell/">Haskell</a>
            </span>
            
            <span>
                <a href="/tags/hugo/">Hugo</a>
            </span>
            
            <span>
                <a href="/tags/js/">JS</a>
            </span>
            
            <span>
                <a href="/tags/minisat/">MiniSat</a>
            </span>
            
            <span>
                <a href="/tags/python/">Python</a>
            </span>
            
            <span>
                <a href="/tags/pytorch/">pytorch</a>
            </span>
            
            <span>
                <a href="/tags/review/">review</a>
            </span>
            
            <span>
                <a href="/tags/sat/">SAT</a>
            </span>
            
            <span>
                <a href="/tags/tensorflow/">tensorflow</a>
            </span>
            
            <span>
                <a href="/tags/tex/">Tex</a>
            </span>
            
            <span>
                <a href="/tags/vps/">VPS</a>
            </span>
            
            <span>
                <a href="/tags/%E6%95%B0%E5%AD%A6/">数学</a>
            </span>
            
            <span>
                <a href="/tags/%E6%A9%9F%E6%A2%B0%E5%AD%A6%E7%BF%92/">機械学習</a>
            </span>
            
            <span>
                <a href="/tags/%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89/">環境構築</a>
            </span>
            
            <span>
                <a href="/tags/%E7%9B%B8%E8%BB%A2%E7%A7%BB/">相転移</a>
            </span>
            
            <span>
                <a href="/tags/%E7%B4%A0%E6%95%B0/">素数</a>
            </span>
            
        </div>
    </div>
    
</aside>

        </div>
        <div class="btn">
    <div class="btn-menu" id="btn-menu">
        <i class="iconfont icon-grid-sharp"></i>
    </div>
    <div class="btn-toggle-mode">
        <i class="iconfont icon-contrast-sharp"></i>
    </div>
    <div class="btn-scroll-top">
        <i class="iconfont icon-chevron-up-circle-sharp"></i>
    </div>
</div>
<aside class="sidebar-mobile" style="display: none;">
  <div class="sidebar-wrapper">
    
    <div class="sidebar-item sidebar-pages">
        <h3>ページ</h3>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/about/">About</a>
            </li>
            
            <li>
                <a href="/works/">Works</a>
            </li>
            
            <li>
                <a href="/search/">Search</a>
            </li>
            
            <li>
                <a href="/index.xml">RSS</a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-links">
        <h3>リンク</h3>
        <ul>
            
            <li>
                <a href="https://github.com/derbuihan" target="_blank"><span>GitHub</span></a>
            </li>
            
            <li>
                <a href="https://twitter.com/derbuihan" target="_blank"><span>Twitter</span></a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-tags">
        <h3>タグ</h3>
        <div>
            
            <span>
                <a href="/tags/atom/">Atom</a>
            </span>
            
            <span>
                <a href="/tags/bash/">Bash</a>
            </span>
            
            <span>
                <a href="/tags/coq/">Coq</a>
            </span>
            
            <span>
                <a href="/tags/datasets/">Datasets</a>
            </span>
            
            <span>
                <a href="/tags/digestauth/">DigestAuth</a>
            </span>
            
            <span>
                <a href="/tags/docker/">docker</a>
            </span>
            
            <span>
                <a href="/tags/elm/">Elm</a>
            </span>
            
            <span>
                <a href="/tags/emacs/">Emacs</a>
            </span>
            
            <span>
                <a href="/tags/gitlab/">GitLab</a>
            </span>
            
            <span>
                <a href="/tags/gpu/">gpu</a>
            </span>
            
            <span>
                <a href="/tags/haskell/">Haskell</a>
            </span>
            
            <span>
                <a href="/tags/hugo/">Hugo</a>
            </span>
            
            <span>
                <a href="/tags/js/">JS</a>
            </span>
            
            <span>
                <a href="/tags/minisat/">MiniSat</a>
            </span>
            
            <span>
                <a href="/tags/python/">Python</a>
            </span>
            
            <span>
                <a href="/tags/pytorch/">pytorch</a>
            </span>
            
            <span>
                <a href="/tags/review/">review</a>
            </span>
            
            <span>
                <a href="/tags/sat/">SAT</a>
            </span>
            
            <span>
                <a href="/tags/tensorflow/">tensorflow</a>
            </span>
            
            <span>
                <a href="/tags/tex/">Tex</a>
            </span>
            
            <span>
                <a href="/tags/vps/">VPS</a>
            </span>
            
            <span>
                <a href="/tags/%E6%95%B0%E5%AD%A6/">数学</a>
            </span>
            
            <span>
                <a href="/tags/%E6%A9%9F%E6%A2%B0%E5%AD%A6%E7%BF%92/">機械学習</a>
            </span>
            
            <span>
                <a href="/tags/%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89/">環境構築</a>
            </span>
            
            <span>
                <a href="/tags/%E7%9B%B8%E8%BB%A2%E7%A7%BB/">相転移</a>
            </span>
            
            <span>
                <a href="/tags/%E7%B4%A0%E6%95%B0/">素数</a>
            </span>
            
        </div>
    </div>
    
    
    
    
  </div>
</aside>
    </main>

    <footer>
    <div class="container-lg clearfix">
        <div class="col-12 footer">
            
            <span>&copy; 2022-2022
                <a href="https://derbuihan.github.io/">derbuihan</a>
                 | <a href="https://github.com/derbuihan/">Source code</a> 
                | Powered by <a href="https://github.com/dsrkafuu/hugo-theme-fuji/"
                   target="_blank">Fuji-v2</a> &amp; <a href="https://gohugo.io/"
                                                    target="_blank">Hugo</a> 
            </span>
        </div>
    </div>
</footer>

    
<script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.27.0/components/prism-core.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.27.0/plugins/autoloader/prism-autoloader.min.js"></script>



<script defer src="/assets/js/fuji.min.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css" />
<script src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/auto-render.min.js"></script>
<script>
  renderMathInElement(document.querySelector('div.content'), {
    delimiters: [
      { left: '$$', right: '$$', display: true },
      { left: '\\[', right: '\\]', display: true },
      { left: '$', right: '$', display: false },
      { left: '\\(', right: '\\)', display: false },
    ],
  });
</script>




</body>

</html>
